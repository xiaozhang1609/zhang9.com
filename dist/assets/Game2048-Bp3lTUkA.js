import{c as h,r as g,G as C,j as e,m as L,A as E,R as M}from"./index-BlnVVs9j.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=h("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=h("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=h("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=h("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=h("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=h("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=h("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=h("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),x=4,P=x*x,U=12,w=`${U/4}px`,H=.9,V={up:[-1,0],down:[1,0],left:[0,-1],right:[0,1]},j={board:Array(x).fill(null).map(()=>Array(x).fill(null)),score:0,bestScore:0,gameTime:0,moves:0,gameOver:!1},Y={2:"bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-800 dark:to-blue-700 text-blue-800 dark:text-blue-100",4:"bg-gradient-to-br from-green-100 to-green-200 dark:from-green-800 dark:to-green-700 text-green-800 dark:text-green-100",8:"bg-gradient-to-br from-yellow-100 to-yellow-200 dark:from-yellow-800 dark:to-yellow-700 text-yellow-800 dark:text-yellow-100",16:"bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-800 dark:to-orange-700 text-orange-800 dark:text-orange-100",32:"bg-gradient-to-br from-red-100 to-red-200 dark:from-red-800 dark:to-red-700 text-red-800 dark:text-red-100",64:"bg-gradient-to-br from-purple-100 to-purple-200 dark:from-purple-800 dark:to-purple-700 text-purple-800 dark:text-purple-100",128:"bg-gradient-to-br from-indigo-100 to-indigo-200 dark:from-indigo-800 dark:to-indigo-700 text-indigo-800 dark:text-indigo-100",256:"bg-gradient-to-br from-pink-100 to-pink-200 dark:from-pink-800 dark:to-pink-700 text-pink-800 dark:text-pink-100",512:"bg-gradient-to-br from-teal-100 to-teal-200 dark:from-teal-800 dark:to-teal-700 text-teal-800 dark:text-teal-100",1024:"bg-gradient-to-br from-cyan-100 to-cyan-200 dark:from-cyan-800 dark:to-cyan-700 text-cyan-800 dark:text-cyan-100",2048:"bg-gradient-to-br from-amber-100 to-amber-200 dark:from-amber-800 dark:to-amber-700 text-amber-800 dark:text-amber-100"};M.memo(({icon:r,label:n,value:i,color:l})=>e.jsxs("div",{className:`bg-gradient-to-br from-${l}-50/50 to-${l}-100/50 dark:from-${l}-900/20 dark:to-${l}-800/20 p-4 rounded-xl backdrop-blur-sm shadow-sm`,children:[e.jsxs("div",{className:`text-${l}-500 dark:text-${l}-400 mb-2 flex items-center gap-2`,children:[e.jsx(r,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:n})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:i})]}));const Z=M.memo(({value:r,index:n})=>{const i=g.useMemo(()=>{const u="w-full h-full flex items-center justify-center rounded-xl font-bold text-2xl md:text-3xl transition-all duration-200 shadow-sm backdrop-blur-sm";return r?`${u} ${Y[r]||"bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 text-gray-800 dark:text-gray-200"}`:`${u} bg-gray-100/50 dark:bg-gray-800/50`},[r]),l=g.useMemo(()=>({width:`calc(25% - ${w})`,height:`calc(25% - ${w})`,left:`calc(${n%4} * (25% + ${w}))`,top:`calc(${Math.floor(n/4)} * (25% + ${w}))`,position:"absolute"}),[n]);return r?e.jsx(L.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.15},className:i,style:l,children:r},`${n}-${r}`):null}),$=r=>{const n=Math.floor(r/60),i=r%60;return`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`};function F(){const[r,n]=g.useState(j),i=g.useCallback(a=>{const t=a.flatMap((b,f)=>b.map((v,y)=>v===null?[f,y]:null).filter(Boolean));if(t.length===0)return a;const[o,p]=t[Math.floor(Math.random()*t.length)],k=a.map(b=>[...b]);return k[o][p]=Math.random()<H?2:4,k},[]),l=g.useCallback(()=>{let a=i(j.board);a=i(a),n({...j,board:a})},[i]),u=g.useCallback(a=>{r.gameOver||n(t=>{let o=t.board.map(m=>[...m]),p=!1,k=t.score;const[b,f]=V[a],v=(m,d)=>{if(o[m][d]===null)return;let s=m+b,c=d+f;for(;s>=0&&s<x&&c>=0&&c<x;)if(o[s][c]===null)o[s][c]=o[s-b][c-f],o[s-b][c-f]=null,p=!0,s+=b,c+=f;else if(o[s][c]===o[s-b][c-f]){o[s][c]*=2,k+=o[s][c],o[s-b][c-f]=null,p=!0;break}else break},y=Array.from({length:x},(m,d)=>d);if(a==="up"||a==="down"){const m=a==="up"?y:y.reverse();for(const d of m)for(let s=0;s<x;s++)v(d,s)}else{const m=a==="left"?y:y.reverse();for(let d=0;d<x;d++)for(const s of m)v(d,s)}if(!p)return t;o=i(o);const O=Math.max(t.bestScore,k),T=o.every(m=>m.every(d=>d!==null));return{...t,board:o,score:k,bestScore:O,moves:t.moves+1,gameOver:T}})},[r.gameOver,i]);g.useEffect(()=>{l();const a=t=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.key)){t.preventDefault();const o=t.key.replace("Arrow","").toLowerCase();u(o)}};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[l,u]),g.useEffect(()=>{if(!r.gameOver){const a=setInterval(()=>{n(t=>({...t,gameTime:t.gameTime+1}))},1e3);return()=>clearInterval(a)}},[r.gameOver]);const S=g.useMemo(()=>[{icon:D,label:"Score",value:r.score,color:"blue"},{icon:I,label:"Best Score",value:r.bestScore,color:"purple"},{icon:B,label:"Time",value:$(r.gameTime),color:"green"},{icon:C,label:"Moves",value:r.moves,color:"orange"}],[r.score,r.bestScore,r.gameTime,r.moves]),N=g.useCallback(()=>{alert(`Game Over! Your final score is ${r.score}.`)},[r.score]);return g.useEffect(()=>{r.gameOver&&N()},[r.gameOver,N]),e.jsx("div",{className:"w-full max-w-md mx-auto p-4",children:e.jsxs("div",{className:"relative card backdrop-blur-sm bg-white/50 dark:bg-gray-900/50 border border-gray-200/50 dark:border-gray-700/50 p-4 rounded-2xl shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 dark:from-blue-500/20 dark:to-cyan-500/20 rounded-lg backdrop-blur-sm",children:e.jsx(C,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 bg-clip-text text-transparent",children:"2048"})]}),e.jsxs("button",{onClick:l,className:"p-2 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white rounded-lg transition-colors shadow-md flex items-center gap-1.5 text-sm font-medium",children:[e.jsx(_,{className:"w-4 h-4"}),"Restart"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:S.map((a,t)=>e.jsxs("div",{className:`bg-${a.color}-50/50 dark:bg-${a.color}-900/20 p-2 rounded-lg text-center`,children:[e.jsx("div",{className:`text-${a.color}-500 dark:text-${a.color}-400 text-xs mb-0.5`,children:a.label}),e.jsx("div",{className:"text-base font-bold text-gray-900 dark:text-gray-100",children:a.value})]},t))}),e.jsx(L.div,{className:"aspect-square w-full bg-gray-100/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl p-2 border border-gray-200/50 dark:border-gray-700/50",initial:!1,animate:{scale:r.gameOver?.95:1},transition:{duration:.2},children:e.jsxs("div",{className:"relative w-full h-full grid grid-cols-4 gap-2",children:[Array.from({length:P}).map((a,t)=>e.jsx("div",{className:"bg-gray-200/80 dark:bg-gray-700/80 rounded-lg"},`bg-${t}`)),e.jsx(E,{children:r.board.flat().map((a,t)=>e.jsx(Z,{value:a,index:t},`${t}-${a}`))})]})}),e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 max-w-[160px] mx-auto",children:[e.jsx("div",{}),e.jsx("button",{onClick:()=>u("up"),className:"aspect-square p-2 bg-gray-100/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg hover:bg-gray-200/80 dark:hover:bg-gray-700/80 transition-colors border border-gray-200/50 dark:border-gray-700/50 flex items-center justify-center",children:e.jsx(G,{className:"w-5 h-5"})}),e.jsx("div",{}),e.jsx("button",{onClick:()=>u("left"),className:"aspect-square p-2 bg-gray-100/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg hover:bg-gray-200/80 dark:hover:bg-gray-700/80 transition-colors border border-gray-200/50 dark:border-gray-700/50 flex items-center justify-center",children:e.jsx(R,{className:"w-5 h-5"})}),e.jsx("div",{}),e.jsx("button",{onClick:()=>u("right"),className:"aspect-square p-2 bg-gray-100/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg hover:bg-gray-200/80 dark:hover:bg-gray-700/80 transition-colors border border-gray-200/50 dark:border-gray-700/50 flex items-center justify-center",children:e.jsx(q,{className:"w-5 h-5"})}),e.jsx("div",{}),e.jsx("button",{onClick:()=>u("down"),className:"aspect-square p-2 bg-gray-100/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg hover:bg-gray-200/80 dark:hover:bg-gray-700/80 transition-colors border border-gray-200/50 dark:border-gray-700/50 flex items-center justify-center",children:e.jsx(A,{className:"w-5 h-5"})}),e.jsx("div",{})]})}),r.gameOver&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm rounded-2xl",children:e.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-3",children:"Game Over!"}),e.jsxs("p",{className:"mb-4",children:["Final Score: ",r.score]}),e.jsxs("p",{className:"mb-4",children:["Best Score: ",r.bestScore]}),e.jsxs("p",{className:"mb-4",children:["Time: ",$(r.gameTime)]}),e.jsxs("p",{className:"mb-4",children:["Moves: ",r.moves]}),e.jsx("button",{onClick:l,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white rounded-lg transition-colors shadow-md text-sm font-medium",children:"Play Again"})]})})]})})}export{F as default};
