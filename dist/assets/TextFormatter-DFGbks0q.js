import{g as ne,r as H,j as p,T as ie,f as oe}from"./index-C8s7oK5O.js";import{B as I}from"./react-toastify.esm-Urfr5C2-.js";import{C as se}from"./copy-wIZ-ux7w.js";import{T as ce}from"./trash-2-CvFEan3x.js";var ae={exports:{}};/*!
 * pangu.js
 * --------
 * @version: 4.0.7
 * @homepage: https://github.com/vinta/pangu.js
 * @license: MIT
 * @author: Vinta Chen <vinta.chen@gmail.com> (https://github.com/vinta)
 */(function(R,X){(function(N,l){R.exports=l()})(window,function(){return function(_){var N={};function l(n){if(N[n])return N[n].exports;var g=N[n]={i:n,l:!1,exports:{}};return _[n].call(g.exports,g,g.exports,l),g.l=!0,g.exports}return l.m=_,l.c=N,l.d=function(n,g,h){l.o(n,g)||Object.defineProperty(n,g,{enumerable:!0,get:h})},l.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},l.t=function(n,g){if(g&1&&(n=l(n)),g&8||g&4&&typeof n=="object"&&n&&n.__esModule)return n;var h=Object.create(null);if(l.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:n}),g&2&&typeof n!="string")for(var m in n)l.d(h,m,(function(C){return n[C]}).bind(null,m));return h},l.n=function(n){var g=n&&n.__esModule?function(){return n.default}:function(){return n};return l.d(g,"a",g),g},l.o=function(n,g){return Object.prototype.hasOwnProperty.call(n,g)},l.p="",l(l.s=0)}([function(_,N,l){var n,g,h;(function(m,C){g=[],n=C,h=typeof n=="function"?n.apply(N,g):n,h!==void 0&&(_.exports=h)})(this,function(){function m(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(a){return typeof a}:m=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},m(c)}function C(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function A(c,o){for(var a=0;a<o.length;a++){var t=o[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(c,t.key,t)}}function D(c,o,a){return o&&A(c.prototype,o),c}function u(c,o){return o&&(m(o)==="object"||typeof o=="function")?o:Z(c)}function Z(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function j(c){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},j(c)}function Q(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),o&&K(c,o)}function K(c,o){return K=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},K(c,o)}var U=l(1),Y=U.Pangu;function W(c){var o=this,a=arguments,t=!1;return function(){if(!t){var i=o;t=!0,c.apply(i,a)}}}function G(c,o,a){var t=this,i=arguments,v=null,r=null;return function(){var s=t,S=i,T=+new Date;clearTimeout(v),r||(r=T),T-r>=a?(c.apply(s,S),r=T):v=setTimeout(function(){c.apply(s,S)},o)}}var M=function(c){Q(o,c);function o(){var a;return C(this,o),a=u(this,j(o).call(this)),a.blockTags=/^(div|p|h1|h2|h3|h4|h5|h6)$/i,a.ignoredTags=/^(script|code|pre|textarea)$/i,a.presentationalTags=/^(b|code|del|em|i|s|strong)$/i,a.spaceLikeTags=/^(br|hr|i|img|pangu)$/i,a.spaceSensitiveTags=/^(a|del|pre|s|strike|u)$/i,a.isAutoSpacingPageExecuted=!1,a}return D(o,[{key:"isContentEditable",value:function(t){return t.isContentEditable||t.getAttribute&&t.getAttribute("g_editable")==="true"}},{key:"isSpecificTag",value:function(t,i){return t&&t.nodeName&&t.nodeName.search(i)>=0}},{key:"isInsideSpecificTag",value:function(t,i){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t;if(v&&this.isSpecificTag(r,i))return!0;for(;r.parentNode;)if(r=r.parentNode,this.isSpecificTag(r,i))return!0;return!1}},{key:"canIgnoreNode",value:function(t){var i=t;if(i&&(this.isSpecificTag(i,this.ignoredTags)||this.isContentEditable(i)))return!0;for(;i.parentNode;)if(i=i.parentNode,i&&(this.isSpecificTag(i,this.ignoredTags)||this.isContentEditable(i)))return!0;return!1}},{key:"isFirstTextChild",value:function(t,i){for(var v=t.childNodes,r=0;r<v.length;r++){var s=v[r];if(s.nodeType!==Node.COMMENT_NODE&&s.textContent)return s===i}return!1}},{key:"isLastTextChild",value:function(t,i){for(var v=t.childNodes,r=v.length-1;r>-1;r--){var s=v[r];if(s.nodeType!==Node.COMMENT_NODE&&s.textContent)return s===i}return!1}},{key:"spacingNodeByXPath",value:function(t,i){if(!(!(i instanceof Node)||i instanceof DocumentFragment))for(var v=document.evaluate(t,i,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),r,s,S=v.snapshotLength-1;S>-1;--S){if(r=v.snapshotItem(S),this.isSpecificTag(r.parentNode,this.presentationalTags)&&!this.isInsideSpecificTag(r.parentNode,this.ignoredTags)){var T=r.parentNode;if(T.previousSibling){var F=T.previousSibling;if(F.nodeType===Node.TEXT_NODE){var w=F.data.substr(-1)+r.data.toString().charAt(0),L=this.spacing(w);w!==L&&(F.data="".concat(F.data," "))}}if(T.nextSibling){var k=T.nextSibling;if(k.nodeType===Node.TEXT_NODE){var $=r.data.substr(-1)+k.data.toString().charAt(0),z=this.spacing($);$!==z&&(k.data=" ".concat(k.data))}}}if(this.canIgnoreNode(r)){s=r;continue}var P=this.spacing(r.data);if(r.data!==P&&(r.data=P),s){if(r.nextSibling&&r.nextSibling.nodeName.search(this.spaceLikeTags)>=0){s=r;continue}var B=r.data.toString().substr(-1)+s.data.toString().substr(0,1),O=this.spacing(B);if(O!==B){for(var y=s;y.parentNode&&y.nodeName.search(this.spaceSensitiveTags)===-1&&this.isFirstTextChild(y.parentNode,y);)y=y.parentNode;for(var b=r;b.parentNode&&b.nodeName.search(this.spaceSensitiveTags)===-1&&this.isLastTextChild(b.parentNode,b);)b=b.parentNode;if(b.nextSibling&&b.nextSibling.nodeName.search(this.spaceLikeTags)>=0){s=r;continue}if(b.nodeName.search(this.blockTags)===-1)if(y.nodeName.search(this.spaceSensitiveTags)===-1)y.nodeName.search(this.ignoredTags)===-1&&y.nodeName.search(this.blockTags)===-1&&(s.previousSibling?s.previousSibling.nodeName.search(this.spaceLikeTags)===-1&&(s.data=" ".concat(s.data)):this.canIgnoreNode(s)||(s.data=" ".concat(s.data)));else if(b.nodeName.search(this.spaceSensitiveTags)===-1)r.data="".concat(r.data," ");else{var d=document.createElement("pangu");d.innerHTML=" ",y.previousSibling?y.previousSibling.nodeName.search(this.spaceLikeTags)===-1&&y.parentNode.insertBefore(d,y):y.parentNode.insertBefore(d,y),d.previousElementSibling||d.parentNode&&d.parentNode.removeChild(d)}}}s=r}}},{key:"spacingNode",value:function(t){var i=".//*/text()[normalize-space(.)]";t.children&&t.children.length===0&&(i=".//text()[normalize-space(.)]"),this.spacingNodeByXPath(i,t)}},{key:"spacingElementById",value:function(t){var i='id("'.concat(t,'")//text()');this.spacingNodeByXPath(i,document)}},{key:"spacingElementByClassName",value:function(t){var i='//*[contains(concat(" ", normalize-space(@class), " "), "'.concat(t,'")]//text()');this.spacingNodeByXPath(i,document)}},{key:"spacingElementByTagName",value:function(t){var i="//".concat(t,"//text()");this.spacingNodeByXPath(i,document)}},{key:"spacingPageTitle",value:function(){var t="/html/head/title/text()";this.spacingNodeByXPath(t,document)}},{key:"spacingPageBody",value:function(){var t="/html/body//*/text()[normalize-space(.)]";["script","style","textarea"].forEach(function(i){t="".concat(t,'[translate(name(..),"ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz")!="').concat(i,'"]')}),this.spacingNodeByXPath(t,document)}},{key:"spacingPage",value:function(){this.spacingPageTitle(),this.spacingPageBody()}},{key:"autoSpacingPage",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1e3,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2e3;if(document.body instanceof Node&&!this.isAutoSpacingPageExecuted){this.isAutoSpacingPageExecuted=!0;var r=this,s=W(function(){r.spacingPage()}),S=document.getElementsByTagName("video");if(S.length===0)setTimeout(function(){s()},t);else for(var T=0;T<S.length;T++){var F=S[T];if(F.readyState===4){setTimeout(function(){s()},3e3);break}F.addEventListener("loadeddata",function(){setTimeout(function(){s()},4e3)})}var w=[],L=G(function(){for(;w.length;){var $=w.shift();$&&r.spacingNode($)}},i,{maxWait:v}),k=new MutationObserver(function($,z){$.forEach(function(P){switch(P.type){case"childList":P.addedNodes.forEach(function(O){O.nodeType===Node.ELEMENT_NODE?w.push(O):O.nodeType===Node.TEXT_NODE&&w.push(O.parentNode)});break;case"characterData":var B=P.target;B.nodeType===Node.TEXT_NODE&&w.push(B.parentNode);break}}),L()});k.observe(document.body,{characterData:!0,childList:!0,subtree:!0})}}}]),o}(Y),J=new M;_.exports=J,_.exports.default=J,_.exports.Pangu=M})},function(_,N,l){var n,g,h;(function(m,C){g=[],n=C,h=typeof n=="function"?n.apply(N,g):n,h!==void 0&&(_.exports=h)})(this,function(){function m(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(f){return typeof f}:m=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},m(d)}function C(d,x){if(!(d instanceof x))throw new TypeError("Cannot call a class as a function")}function A(d,x){for(var f=0;f<x.length;f++){var E=x[f];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(d,E.key,E)}}function D(d,x,f){return x&&A(d.prototype,x),d}var u="⺀-⻿⼀-⿟぀-ゟ゠-ヺー-ヿ㄀-ㄯ㈀-㋿㐀-䶿一-鿿豈-﫿",Z=new RegExp("[".concat(u,"]")),j=new RegExp("([".concat(u,"])[ ]*([\\:]+|\\.)[ ]*([").concat(u,"])"),"g"),Q=new RegExp("([".concat(u,"])[ ]*([~\\!;,\\?]+)[ ]*"),"g"),K=new RegExp("([\\.]{2,}|…)([".concat(u,"])"),"g"),U=new RegExp("([".concat(u,"])\\:([A-Z0-9\\(\\)])"),"g"),Y=new RegExp("([".concat(u,'])([`"״])'),"g"),W=new RegExp('([`"״])(['.concat(u,"])"),"g"),G=/([`"\u05f4]+)[ ]*(.+?)[ ]*([`"\u05f4]+)/g,M=new RegExp("([".concat(u,"])('[^s])"),"g"),J=new RegExp("(')([".concat(u,"])"),"g"),c=new RegExp("([A-Za-z0-9".concat(u,"])( )('s)"),"g"),o=new RegExp("([".concat(u,"])(#)([").concat(u,"]+)(#)([").concat(u,"])"),"g"),a=new RegExp("([".concat(u,"])(#([^ ]))"),"g"),t=new RegExp("(([^ ])#)([".concat(u,"])"),"g"),i=new RegExp("([".concat(u,"])([\\+\\-\\*\\/=&\\|<>])([A-Za-z0-9])"),"g"),v=new RegExp("([A-Za-z0-9])([\\+\\-\\*\\/=&\\|<>])([".concat(u,"])"),"g"),r=/([/]) ([a-z\-_\./]+)/g,s=/([/\.])([A-Za-z\-_\./]+) ([/])/g,S=new RegExp("([".concat(u,"])([\\(\\[\\{<>“])"),"g"),T=new RegExp("([\\)\\]\\}<>”])([".concat(u,"])"),"g"),F=/([\(\[\{<\u201c]+)[ ]*(.+?)[ ]*([\)\]\}>\u201d]+)/,w=new RegExp("([A-Za-z0-9".concat(u,"])[ ]*([“])([A-Za-z0-9").concat(u,"\\-_ ]+)([”])"),"g"),L=new RegExp("([“])([A-Za-z0-9".concat(u,"\\-_ ]+)([”])[ ]*([A-Za-z0-9").concat(u,"])"),"g"),k=/([A-Za-z0-9])([\(\[\{])/g,$=/([\)\]\}])([A-Za-z0-9])/g,z=new RegExp("([".concat(u,"])([A-Za-zͰ-Ͽ0-9@\\$%\\^&\\*\\-\\+\\\\=\\|/¡-ÿ⅐-↏✀—➿])"),"g"),P=new RegExp("([A-Za-zͰ-Ͽ0-9~\\$%\\^&\\*\\-\\+\\\\=\\|/!;:,\\.\\?¡-ÿ⅐-↏✀—➿])([".concat(u,"])"),"g"),B=/(%)([A-Za-z])/g,O=/([ ]*)([\u00b7\u2022\u2027])([ ]*)/g,y=function(){function d(){C(this,d),this.version="4.0.7"}return D(d,[{key:"convertToFullwidth",value:function(f){return f.replace(/~/g,"～").replace(/!/g,"！").replace(/;/g,"；").replace(/:/g,"：").replace(/,/g,"，").replace(/\./g,"。").replace(/\?/g,"？")}},{key:"spacing",value:function(f){if(typeof f!="string")return console.warn("spacing(text) only accepts string but got ".concat(m(f))),f;if(f.length<=1||!Z.test(f))return f;var E=this,e=f;return e=e.replace(j,function(q,V,ee,te){var re=E.convertToFullwidth(ee);return"".concat(V).concat(re).concat(te)}),e=e.replace(Q,function(q,V,ee){var te=E.convertToFullwidth(ee);return"".concat(V).concat(te)}),e=e.replace(K,"$1 $2"),e=e.replace(U,"$1：$2"),e=e.replace(Y,"$1 $2"),e=e.replace(W,"$1 $2"),e=e.replace(G,"$1$2$3"),e=e.replace(M,"$1 $2"),e=e.replace(J,"$1 $2"),e=e.replace(c,"$1's"),e=e.replace(o,"$1 $2$3$4 $5"),e=e.replace(a,"$1 $2"),e=e.replace(t,"$1 $3"),e=e.replace(i,"$1 $2 $3"),e=e.replace(v,"$1 $2 $3"),e=e.replace(r,"$1$2"),e=e.replace(s,"$1$2$3"),e=e.replace(S,"$1 $2"),e=e.replace(T,"$1 $2"),e=e.replace(F,"$1$2$3"),e=e.replace(w,"$1 $2$3$4"),e=e.replace(L,"$1$2$3 $4"),e=e.replace(k,"$1 $2"),e=e.replace($,"$1 $2"),e=e.replace(z,"$1 $2"),e=e.replace(P,"$1 $2"),e=e.replace(B,"$1 $2"),e=e.replace(O,"・"),e}},{key:"spacingText",value:function(f){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},e;try{e=this.spacing(f)}catch(q){E(q);return}E(null,e)}},{key:"spacingTextSync",value:function(f){return this.spacing(f)}}]),d}(),b=new y;_.exports=b,_.exports.default=b,_.exports.Pangu=y})}])})})(ae);var ue=ae.exports;const le=ne(ue);function he(){const[R,X]=H.useState(""),[_,N]=H.useState(""),[l,n]=H.useState(!1),g=H.useCallback(A=>{const D=A.target.value;X(D)},[]),h=()=>{if(R){n(!0);try{const A=le.spacing(R);N(A),I.success("格式化完成",{position:"top-right",autoClose:2e3,theme:"dark"})}catch(A){console.error("Format error:",A),I.error("格式化失败，请重试",{position:"top-right",autoClose:2e3,theme:"dark"})}finally{n(!1)}}},m=async()=>{try{await navigator.clipboard.writeText(_),I.success("复制成功",{position:"top-right",autoClose:2e3,theme:"dark"})}catch(A){console.error("Copy error:",A),I.error("复制失败，请重试",{position:"top-right",autoClose:2e3,theme:"dark"})}},C=()=>{X(""),N(""),I.success("已清空文本",{position:"top-right",autoClose:2e3,theme:"dark"})};return p.jsx("div",{className:"w-full max-w-4xl mx-auto",children:p.jsxs("div",{className:"card bg-white dark:bg-gray-800 rounded-xl shadow-lg dark:shadow-gray-900/30 overflow-hidden",children:[p.jsxs("div",{className:"text-center p-6 border-b border-gray-200 dark:border-gray-700",children:[p.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 dark:from-blue-500/20 dark:to-cyan-500/20 rounded-xl mb-4",children:p.jsx(ie,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-50",children:"中英文格式化工具"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"自动为中英文之间添加空格，让文本更易读"})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex items-center gap-2 text-lg font-medium text-gray-900 dark:text-gray-100",children:p.jsx("span",{children:"原始文本"})}),p.jsx("textarea",{value:R,onChange:g,className:"w-full h-64 p-4 bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 resize-none",placeholder:"在此输入需要格式化的文本..."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center gap-2 text-lg font-medium text-gray-900 dark:text-gray-100",children:p.jsx("span",{children:"格式化结果"})}),p.jsx("button",{onClick:m,disabled:!_||l,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"复制结果",children:p.jsx(se,{className:"w-5 h-5"})})]}),p.jsx("textarea",{value:_,readOnly:!0,className:"w-full h-64 p-4 bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 resize-none",placeholder:"格式化后的文本将显示在这里..."})]})]}),p.jsxs("div",{className:"flex justify-end gap-4",children:[p.jsx("button",{onClick:C,disabled:!R||l,className:"p-3 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-xl transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"清空文本",children:p.jsx(ce,{className:"w-5 h-5"})}),p.jsxs("button",{onClick:h,disabled:!R||l,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-medium rounded-xl transition-all duration-200 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx(oe,{className:`w-5 h-5 ${l?"animate-spin":""}`}),l?"格式化中...":"格式化"]})]})]})]})})}export{he as default};
